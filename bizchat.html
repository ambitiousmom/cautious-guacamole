<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hema Sridharan ‚Äî Senior PM, Microsoft Copilot</title>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#f5f0e8;--fg:#2d2a24;--muted:#6b6560;--dim:#9b9590;
  --accent:#c45a3c;--accent2:#d4715a;--accent-soft:rgba(196,90,60,.08);
  --border:#d9d3c7;--card:#faf7f2;--card2:#fff;
  --branch:#7c6f64;--detour:#a89984;--hack:#8f6e3f;
  --font:'Segoe UI',system-ui,-apple-system,sans-serif;
  --mono:'Cascadia Code','Fira Code','SF Mono',monospace;
  --radius:14px;
}
html{font-size:15px}body{font-family:var(--font);background:var(--bg);color:var(--fg);line-height:1.6;-webkit-font-smoothing:antialiased;overflow-x:hidden;min-height:100vh;display:flex;flex-direction:column}
::selection{background:var(--accent);color:#fff}

/* ‚ïê‚ïê‚ïê Header ‚ïê‚ïê‚ïê */
.hero{text-align:center;padding:44px 24px 20px;opacity:0;animation:fadeIn .6s ease forwards}
.hero h1{font-size:1.8rem;font-weight:700;letter-spacing:-.03em}
.hero .sub{font-size:.82rem;color:var(--muted);margin-top:4px}
.hero .sub strong{color:var(--fg);font-weight:600}
.hero .summ{max-width:560px;margin:14px auto 0;font-size:.82rem;color:var(--muted);line-height:1.65}
.hero .summ strong{color:var(--fg);font-weight:600}

/* Start */
.start{text-align:center;padding:16px 0 0;opacity:0;animation:fadeIn .5s ease .4s forwards}
.start button{padding:10px 28px;background:var(--accent);color:#fff;border:none;border-radius:100px;font-size:.8rem;font-weight:600;cursor:pointer;font-family:var(--font);box-shadow:0 4px 16px rgba(196,90,60,.2);transition:all .2s}
.start button:hover{background:var(--accent2);transform:translateY(-1px)}
.start.gone{display:none}

/* ‚ïê‚ïê‚ïê Timeline Container ‚ïê‚ïê‚ïê */
.tl-wrap{display:none;flex:1;padding:24px 0 48px;position:relative}
.tl-wrap.active{display:block}
.tl-scroll{overflow-x:auto;overflow-y:visible;padding:0 48px 0 48px;-webkit-overflow-scrolling:touch}
.tl-canvas{position:relative;height:360px;min-width:200px;/* gets sized by JS */}

/* Lines (SVG) */
.tl-canvas svg{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}
.tl-canvas svg line,.tl-canvas svg path{fill:none;stroke-width:2.5;stroke-linecap:round}
.ln-main{stroke:var(--fg);stroke-opacity:.2}
.ln-branch{stroke:var(--branch);stroke-opacity:.25}
.ln-dash{stroke:var(--dim);stroke-dasharray:5 4;stroke-opacity:.2}

/* Nodes */
.nd{position:absolute;text-align:center;opacity:0;transform:scale(.7);transition:opacity .35s,transform .35s;cursor:pointer;z-index:3;width:90px}
.nd.show{opacity:1;transform:scale(1)}
.nd .dot{width:18px;height:18px;border-radius:50%;border:2.5px solid var(--border);background:var(--bg);margin:0 auto 5px;transition:all .2s;position:relative}
.nd:hover .dot{border-color:var(--accent);transform:scale(1.15);box-shadow:0 0 0 4px var(--accent-soft)}
.nd.active .dot{border-color:var(--accent);background:var(--accent);box-shadow:0 0 0 5px var(--accent-soft)}
.nd .icon-img{width:24px;height:24px;border-radius:4px;margin:0 auto 5px;display:block;object-fit:contain}
.nd .bolt{font-size:.75rem;margin:0 auto 3px;display:block;width:18px;height:18px;line-height:18px;text-align:center}
.nd .nlabel{font-size:.58rem;font-weight:700;color:var(--fg);line-height:1.2}
.nd .nsub{font-size:.48rem;color:var(--dim);margin-top:1px}

/* ‚ïê‚ïê‚ïê Dropdown card ‚ïê‚ïê‚ïê */
.dd{display:none;position:absolute;left:50%;transform:translateX(-50%);top:100%;width:320px;background:var(--card2);border:1px solid var(--border);border-radius:var(--radius);padding:18px 22px;box-shadow:0 10px 40px rgba(0,0,0,.1);z-index:10;animation:dropIn .25s ease}
.dd.show{display:block}
@keyframes dropIn{from{opacity:0;transform:translateX(-50%) translateY(-8px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

.dd .badge{display:inline-block;font-size:.48rem;padding:3px 9px;border-radius:100px;background:var(--accent-soft);color:var(--accent);font-weight:700;margin-bottom:5px}
.dd h3{font-size:.9rem;font-weight:700;margin-bottom:5px}
.dd p{font-size:.74rem;color:var(--muted);line-height:1.55;margin-bottom:5px}
.dd p strong{color:var(--fg)}
.dd ul{list-style:none;padding:0;margin:4px 0}
.dd ul li{font-size:.7rem;color:var(--muted);line-height:1.5;padding-left:12px;position:relative;margin-bottom:3px}
.dd ul li::before{content:'';position:absolute;left:0;top:7px;width:4px;height:4px;border-radius:50%;background:var(--accent)}
.tags{display:flex;flex-wrap:wrap;gap:3px;margin-top:6px}
.tags span{font-size:.46rem;padding:2px 8px;border-radius:100px;background:var(--accent-soft);color:var(--accent);font-weight:600}

.og{display:grid;grid-template-columns:1fr 1fr;gap:4px;margin-top:6px}
.og-m{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:7px 9px}
.og-m h5{font-size:.62rem;font-weight:700;margin-bottom:1px}
.og-m p{font-size:.56rem;color:var(--muted);line-height:1.35;margin:0}

.ha{background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:8px 10px;font-family:var(--mono);font-size:.48rem;line-height:1.65;color:var(--muted);white-space:pre;margin:6px 0;display:inline-block}
.ha em{color:var(--accent);font-style:normal;font-weight:700}
.ha strong{color:var(--fg);font-weight:700}

/* Hint bar */
.hint{text-align:center;font-size:.62rem;color:var(--dim);padding:8px 0;opacity:0;transition:opacity .3s}
.hint.show{opacity:1}

/* Side gig */
.side{display:flex;align-items:flex-start;gap:10px;max-width:600px;margin:8px auto 0;padding:12px 16px;background:var(--card2);border:1px solid var(--border);border-radius:var(--radius);opacity:0;transition:opacity .4s}
.side.show{opacity:1}
.side .ic{font-size:.9rem;flex-shrink:0;margin-top:2px}
.side p{font-size:.7rem;color:var(--muted);line-height:1.5}
.side strong{color:var(--fg);font-weight:600}
</style>
</head>
<body>

<div class="hero">
  <h1>Hema Sridharan</h1>
  <div class="sub">Senior PM, <strong>Microsoft Copilot</strong> ¬∑ 11 years product leadership & software engineering ¬∑ Core Inventor, <strong>3 US Patents</strong></div>
  <div class="summ">I am energized by ambiguous and ambitious technical problems ‚Äî <strong>proven track record of shipping at scale</strong>. I think in <strong>falsifiable hypotheses and feasible prototypes</strong>.</div>
</div>

<div class="start" id="startWrap">
  <button id="startBtn">Begin the journey ‚Üí</button>
</div>

<div class="tl-wrap" id="tlWrap">
  <div class="tl-scroll" id="tlScroll">
    <div class="tl-canvas" id="canvas">
      <svg id="svgLines" viewBox="0 0 1400 360" preserveAspectRatio="none"></svg>
      <!-- nodes injected by JS -->
    </div>
  </div>
  <div class="hint" id="hint">Press any key for next ‚Üí</div>
  <div class="side" id="sideGig">
    <div class="ic">‚úçÔ∏è</div>
    <p><strong>Screenplay writer</strong> for Tamil-language theater ¬∑ Tamil teacher for 1st-gen American kids ‚Äî story structure & narrative economy inform how I build products.</p>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê NODE DATA ‚ïê‚ïê‚ïê
// row: 0 = top line (y=80), 1 = bottom line (y=250)
// type: '' | 'bolt' | 'icon-on' | 'icon-cp'
const NODES = [
  // ‚îÄ‚îÄ TOP LINE ‚îÄ‚îÄ
  {id:'on-swe',row:0,x:60,label:'OneNote SWE',sub:'Rendering Platform',type:'icon-on',
   badge:'SWE',h:'OneNote ‚Äî Rendering Platform',
   bl:['Led 12-engineer <strong>Canvas/Rendering redesign</strong> across Win, Mac, iOS','Hands-on with <strong>SDKs, APIs, cross-platform tooling</strong>'],
   tg:['Rendering','Cross-Platform','SDK/API']},

  {id:'telemetry',row:0,x:210,label:'DevSDK / API',sub:'Telemetry ¬∑ Analytics',type:'',
   badge:'Platform',h:'Telemetry & Analytics Platform',
   bl:['Built the <strong>telemetry/analytics platform</strong> across all OneNote endpoints','Data-driven prioritization at scale','Internal <strong>dev tools & SDK</strong> for instrumentation'],
   tg:['Telemetry','Analytics','Dev Tools']},

  {id:'pm-canvas',row:0,x:360,label:'PM Canvas UX',sub:'All Endpoints',type:'',branch:'down',
   badge:'SWE ‚Üí PM',h:'Canvas UX for All Endpoints',
   bl:['Transitioned from SWE to PM','Owned <strong>Canvas UX</strong> across all OneNote endpoints','Full-stack product ownership'],
   tg:['PM','Canvas UX','Endpoints']},

  {id:'techbreak',row:0,x:510,label:'Tech Break',sub:'Screenplays ¬∑ Teaching',type:'bolt',
   badge:'Detour ‚ö°',h:'Creative Pursuits',
   bl:['<strong>Screenplay writer</strong> for Tamil-language theater','<strong>Tamil teacher</strong> for first-generation American kids','Came back with sharper narrative & product instincts'],
   tg:[]},

  {id:'on-rearch',row:0,x:660,label:'OneNote Rearch.',sub:'Ink Aug Platform',type:'',branch:'down',
   badge:'Platform Rearchitect',h:'OneNote Augmentation Pipeline',
   bl:['Redesigned <strong>image & ink processing pipeline</strong>','Shared infrastructure consumed by multiple surfaces','Performance & scale improvements'],
   tg:['Platform','Pipeline','Performance']},

  {id:'doc-collab',row:0,x:870,label:'Doc Collab WXP',sub:'Scale!',type:'',branch:'down-right',
   badge:'0‚Üí1 Founder PM',h:'Document Collaboration at Scale',
   bl:['Authored "<strong>AI-Productivity Paradox</strong>" ‚Äî JTBD ‚Üí SLT-funded charter','Rallied <strong>10+ product orgs</strong> across apps & platform','App-agnostic reasoning spine for Word, Excel, PPT, Teams','Office Collab at <strong>60M sessions/day</strong> ‚Äî COGS 0.41¬¢ ‚Üí 0.1¬¢'],
   tg:['0‚Üí1','Charter','Cross-Org','60M Scale']},

  // ‚îÄ‚îÄ BOTTOM LINE ‚îÄ‚îÄ
  {id:'tinkering',row:1,x:210,label:'Tinkering',sub:'Side builds',type:'bolt',
   badge:'‚ö° Tinkering',h:'Agents I\'m Building',
   desc:'Beyond prototypes ‚Äî working agents that demonstrate platform thinking.',
   mn:[{t:'Multi-Agent Workflow',d:'Agents collaborating ‚Äî handoffs, shared context.'},{t:'Grounding Evaluator',d:'Auto-EVALS ‚Äî grounding accuracy, citations.'}],
   tg:['Agents','EVALS','Orchestration'], note:'Work in progress ‚Äî happy to demo.'},

  {id:'mai',row:1,x:430,label:'MAI Copilot',sub:'Grounding ¬∑ Enrichment',type:'icon-cp',
   badge:'Current Role',h:'Grounding & Trust ‚Äî DRI',
   bl:['<strong>DRI for grounding quality</strong> ‚Äî RAG stack, 1P & 3P','<strong>"Needs Met" framework</strong> vs. Perplexity & Google','<strong>17pt defect reduction ¬∑ 4pt satisfaction lift</strong>','<strong>Automated EVALS pipelines</strong> ‚Äî quality gates at scale','<strong>Trust frameworks</strong> with Applied Science & Policy'],
   tg:['RAG','EVALS','Grounding','Responsible AI']},

  {id:'patents',row:1,x:620,label:'Patents',sub:'3 US Patents',type:'bolt',
   badge:'‚ö° Core Inventor',h:'3 US Patents',
   bl:['<strong>GenAI Agent Collaboration</strong> ‚Äî multi-agent orchestration','<strong>GenAI Agent Orchestration</strong> ‚Äî cross-app agentic design','<strong>OneNote Page Sharing</strong> ‚Äî real-time collaborative UX'],
   tg:['GenAI Agents','Orchestration','Collaboration']},

  {id:'collab-ai',row:1,x:810,label:'Collab AI',sub:'Bootstrapper',type:'',
   badge:'Branch: AI',h:'Agent Orchestration ‚Äî E2E',
   bl:['E2E bootstrapped <strong>2 collab agents</strong> ‚Äî opportunity ‚Üí concept ‚Üí spec ‚Üí build ‚Üí ship','Agent orchestration patterns became <strong>patent material</strong>'],
   tg:['Agents','Orchestration','E2E']},

  {id:'hackathons',row:1,x:990,label:'Hackathons',sub:'Holistic Copilot',type:'bolt',
   badge:'üèÜ Hackathon 2024',h:'Holistic Copilot ‚Äî Connectors & Extensibility',
   desc:'Copilot as cross-boundary AI companion ‚Äî <strong>3P connectors</strong>, composable <strong>agent library</strong>, privacy-respecting boundaries.',
   arch:true,
   mn:[{t:'Cross-App Agent UX',d:'Multi-agent orchestration, surface handoff.'},{t:'Multimodal Editing',d:'Voice + NL as input modalities.'},{t:'Coherence Dashboard',d:'Trust & quality scoring.'},{t:'Grounding Playground',d:'RAG experimentation toolkit.'}],
   tg:['Connectors','3P Extensibility','Agent Library','Copilot Platform']}
];

const Y_TOP = 80, Y_BOT = 250, SPACING = 140;
const CANVAS_W = 1100;

// ‚ïê‚ïê‚ïê ICON DATA ‚ïê‚ïê‚ïê
const ICONS = {
  'icon-on': 'data:image/png;base64,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',
  'icon-cp': 'data:image/png;base64,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'
};

// ‚ïê‚ïê‚ïê BUILD ‚ïê‚ïê‚ïê
const canvas = document.getElementById('canvas');
canvas.style.width = CANVAS_W + 'px';
const svg = document.getElementById('svgLines');
svg.setAttribute('viewBox', `0 0 ${CANVAS_W} 360`);

// Draw lines
let svgHtml = '';
// Top line
svgHtml += `<line class="ln-main" x1="40" y1="${Y_TOP}" x2="950" y2="${Y_TOP}"/>`;
// Bottom line (dashed start, then solid)
svgHtml += `<line class="ln-dash" x1="80" y1="${Y_BOT}" x2="210" y2="${Y_BOT}"/>`;
svgHtml += `<line class="ln-main" x1="210" y1="${Y_BOT}" x2="1060" y2="${Y_BOT}"/>`;
// Vertical connections top‚Üíbottom
svgHtml += `<line class="ln-branch" x1="360" y1="${Y_TOP+10}" x2="360" y2="${Y_BOT-10}"/>`;
svgHtml += `<line class="ln-branch" x1="660" y1="${Y_TOP+10}" x2="660" y2="${Y_BOT-10}"/>`;
svgHtml += `<path class="ln-branch" d="M870,${Y_TOP+10} C870,${Y_TOP+60} 950,${Y_BOT-60} 950,${Y_BOT-10}"/>`;
svg.innerHTML = svgHtml;

// Create nodes
NODES.forEach((n, i) => {
  const nd = document.createElement('div');
  nd.className = 'nd';
  nd.id = 'nd-' + n.id;
  nd.style.left = (n.x - 45) + 'px';
  nd.style.top = (n.row === 0 ? Y_TOP - 50 : Y_BOT - 50) + 'px';
  nd.dataset.idx = i;

  let dotHtml;
  if (n.type === 'icon-on' || n.type === 'icon-cp') {
    dotHtml = `<img class="icon-img" src="${ICONS[n.type]}" alt="">`;
  } else if (n.type === 'bolt') {
    dotHtml = `<span class="bolt">‚ö°</span>`;
  } else {
    dotHtml = `<span class="dot"></span>`;
  }

  // Card HTML
  let cardH = `<div class="dd" id="dd-${n.id}">`;
  cardH += `<div class="badge">${n.badge}</div><h3>${n.h}</h3>`;
  if (n.desc) cardH += `<p>${n.desc}</p>`;
  if (n.arch) cardH += `<div class="ha"><em>Holistic Copilot</em>\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  <strong>Copilot Homepage</strong>   ‚îÇ\n‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ\n‚îÇ ‚îÇWork ‚îÇ  ‚îÇLife ‚îÇ  ‚îÇ\n‚îÇ ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò  ‚îÇ\n‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ\n‚îÇ   <em>Connectors</em>       ‚îÇ\n‚îÇ  Fitbit ¬∑ Nutrition ‚îÇ\n‚îÇ   <em>Agent Library</em>   ‚îÇ\n‚îÇ  Shared ¬∑ Personal ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</div>`;
  if (n.bl) cardH += `<ul>${n.bl.map(b => `<li>${b}</li>`).join('')}</ul>`;
  if (n.mn) cardH += `<div class="og">${n.mn.map(m => `<div class="og-m"><h5>${m.t}</h5><p>${m.d}</p></div>`).join('')}</div>`;
  if (n.tg && n.tg.length) cardH += `<div class="tags">${n.tg.map(t => `<span>${t}</span>`).join('')}</div>`;
  if (n.note) cardH += `<p style="margin-top:6px;font-size:.6rem;font-style:italic;color:var(--dim)">${n.note}</p>`;
  cardH += `</div>`;

  nd.innerHTML = dotHtml + `<div class="nlabel">${n.label}</div><div class="nsub">${n.sub}</div>` + cardH;
  nd.addEventListener('click', () => openCard(i));
  canvas.appendChild(nd);
});

// ‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê
let step = -1;
let cardShown = false;
let started = false;
const total = NODES.length;

// ‚ïê‚ïê‚ïê START ‚ïê‚ïê‚ïê
document.getElementById('startBtn').addEventListener('click', () => {
  document.getElementById('startWrap').classList.add('gone');
  document.getElementById('tlWrap').classList.add('active');
  started = true;
  advance();
});

// ‚ïê‚ïê‚ïê ADVANCE ‚ïê‚ïê‚ïê
function advance() {
  // Close any open card
  closeAllCards();
  step++;
  if (step >= total) {
    document.getElementById('sideGig').classList.add('show');
    document.getElementById('hint').textContent = "That's the arc. Click any node to revisit.";
    document.getElementById('hint').classList.add('show');
    return;
  }
  const n = NODES[step];
  const nd = document.getElementById('nd-' + n.id);
  nd.classList.add('show');

  // Scroll into view
  const scroll = document.getElementById('tlScroll');
  const ndLeft = n.x - scroll.offsetWidth / 2;
  scroll.scrollTo({ left: Math.max(0, ndLeft), behavior: 'smooth' });

  // Auto-open card
  setTimeout(() => openCard(step), 350);
}

// ‚ïê‚ïê‚ïê OPEN CARD ‚ïê‚ïê‚ïê
function openCard(idx) {
  closeAllCards();
  const n = NODES[idx];
  const nd = document.getElementById('nd-' + n.id);
  const dd = document.getElementById('dd-' + n.id);
  nd.classList.add('active');
  dd.classList.add('show');
  cardShown = true;

  // Update hint
  const hint = document.getElementById('hint');
  if (step < total - 1) {
    hint.textContent = 'Press any key for next ‚Üí';
  } else {
    hint.textContent = "That's the arc. Click any node to revisit.";
  }
  hint.classList.add('show');
}

// ‚ïê‚ïê‚ïê CLOSE ‚ïê‚ïê‚ïê
function closeAllCards() {
  document.querySelectorAll('.dd').forEach(d => d.classList.remove('show'));
  document.querySelectorAll('.nd').forEach(d => d.classList.remove('active'));
  cardShown = false;
}

// ‚ïê‚ïê‚ïê KEYPRESS ‚ïê‚ïê‚ïê
document.addEventListener('keydown', e => {
  if (!started) return;
  if (e.key === 'Escape') { closeAllCards(); return; }
  // Any key: close card and advance
  closeAllCards();
  if (step < total - 1) {
    advance();
  }
});

// Also allow clicking canvas background to advance
document.getElementById('canvas').addEventListener('click', e => {
  if (!started) return;
  if (e.target.closest('.nd')) return; // node click handled separately
  closeAllCards();
  if (step < total - 1) advance();
});
</script>
</body>
</html>
